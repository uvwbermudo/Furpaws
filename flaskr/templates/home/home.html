

{% extends 'base.html' %}
{% block title %} FurPaws - Home {% endblock %}
<a href="/logout">PRESS TO LOGOUT</a>
  

{% block body_content %}
<div class="main-feed">
    <div class="rectangle-3"></div>
    <div class="rectangle-4"></div>
      <button class="share-something" data-bs-toggle="modal" data-bs-target="#addPostModal" data-bs-whatever="@getbootstrap" type="button">
        Share something...
      </button>
    <div class="modal fade" id="addPostModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">
              Create Post
            </h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
              <span aria-hidden="true"></span>
            </button>
          </div>
          <div class="modal-body">
            <form method='post' action='' enctype="multipart/form-data">
              <div class="form-group">
                <label for="message-text" class="col-form-label float-start">
                  picture, {{current_user.first_name}} <br/> {{current_user.tag}}
                </label>
                {{form.post_description(class="form-control")}}
                <!-- <textarea class="form-control" id="message-text" placeholder="How are you feeling today profilename?"></textarea> -->
              </div>
            </div>
          <div class="image-preview">
            Image preview here:   
          </div>
          <div class="modal-footer"> 
            <label for="add_photos" class="add-post-btns" name="add_photos"><img src="../../static/img/image-line.png"/>
                  Add Photos
            </label>

            <label for="add_videos" name="add_videos" class="add-post-btns">
            <img src="../../static/img/movie-line.png">
                Add Videos
            </label>
            <input type="file" name="add_photos" id="add_photos" hidden>
            <input type="file" name="add_videos" id="add_videos" hidden>

            {{form.csrf_token}}{{form.add_post_button(class="submit-post")}}

            </form>
          </div>
        </div>
      </div>
    </div>
    <div class="main-feed-posts">
    {% for post in main_feed %}
    <!-- <div class="shadow p-3 mb-5 bg-body rounded" onclick="openPage('/logout')" style="cursor:pointer;"> -->
      <div class="shadow p-3 mb-5 bg-body rounded">
        {{post.post_id}}
      @{{ post.author_tag }}
      {{ post.post_content}}
      <h2>{{ post.date_posted.strftime("%d,%b %Y").lower()}}</h2>
      <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deletePostModal{{post.post_id}}">Delete</button>
      <button class="btn btn-primary"data-bs-toggle="modal" data-bs-target="#editPostModal{{post.post_id}}" data-bs-whatever="@getbootstrap" type="button">Edit</button>
      <button>Will be revised to dropdown</button>


      <!-- Delete Post Modal -->
      <div class="modal fade" id="deletePostModal{{post.post_id}}" tabindex="-1" aria-labelledby="deletePostModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="deleteModalLabel">Delete Post</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              Are you sure you want to delete this post?
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <form action="{{url_for('home.delete_post', post_id=post.post_id)}}" method="POST">
                {{form.csrf_token}}   <input type="submit" class="btn btn-danger" value="Delete">
            </form>
            </div>
          </div>
        </div>
      </div>

      <!-- Edit Post Modal -->
      
      <div class="modal fade" id="editPostModal{{post.post_id}}" tabindex="-1" aria-labelledby="editPostModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="editPostModalLabel">Edit Post</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form action="/home/update/{{post.post_id}}" method="POST">
              <textarea class="form-control" name="post_description" id="post_description" placeholder="post.post_content">{{post.post_content}}</textarea>
            </div>
            <div class="modal-footer">
                {{edit_form.csrf_token}}   {{edit_form.edit_post_button(class="submit-post")}}
            </form>
            </div>
          </div>
        </div>
      </div>





      <button>Comment</button>
    </div>
    {% endfor %}

    </div>
  <div class="rectangle-3"></div>  

  <div class="rectangle-4"></div>
    <button class="share-something" id="shareSomething" name="shareSomething" href="home.html">Share something...</button>
 
  </div>
</div>


  <div class="post-container"> 
    <!-- post container - J -->
    <div class="post-rectangle-3"></div>
    <div class="post-rectangle-4"></div>

      <div class="post-upper-left">
        <img class="post-profile-pic "img src="../../static/img/postprofile.jpg"/></img>
        <div class="post-username">UserNamefghfghg</div>
        <div class="post-usertag"> @usertag </div>

      </div>
      <div class="post-upper-right">
        <button class="post-settings"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots" viewBox="0 0 16 16">
          <path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>
        </svg></button>
        <div class="post-date">13,Nov</div>
      </div>

      <div class="post-middle-part">
        <img class="post-uploaded-pic" src="../../static/img/postpic.jpg"></div>
        <div class="post-description">lalallalla that's how it goes</div>
      </div>

      <div class="post-bottom-part">
        <button class="post-hearts">
          <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-heart-fill" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"/>
          </svg> 25.4k</button>
        <button class="post-comments">
          <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-chat-dots-fill" viewBox="0 0 16 16">
            <path d="M16 8c0 3.866-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM5 8a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
          </svg> 305</button>
        <button class="post-shares"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" border-color="blue" class="bi bi-share-fill" viewBox="0 0 16 16">
          <path d="M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5z"/>
        </svg> 1.5k</button>
      </div>
      
  <!-- post container - J -->
{% endblock %}

